<!DOCTYPE html>
<html>
  <head>

  </head>
  <body>
    
    <script type="text/javascript">
      
      function computerPlay() {
        var options = ['rock', 'paper', 'scissors'];
        var computerChoice = options[Math.floor(Math.random()*options.length)];
        return computerChoice;
      }
      
      
      function playRound(playerSelection, computerSelection) {

        if(playerSelection === computerSelection) {
          alert("It was a tie!");
          return "tie";
        }

        else if (playerSelection === "rock") {

          if(computerSelection === "scissors") {
            alert("The computer chose scissors and you won!");
            return "win";
          }
          
          else {
            alert("The computer chose paper and you lost.");
            return "lose";
          }
        }
        
        else if (playerSelection === "paper") {
          if(computerSelection === "rock") {
            alert("The computer chose rock and you won!");
            return "win";
          }

          else {
            alert("The computer chose scissors and you lost.");
            return "lose";
          }
        }

        else if ( playerSelection === "scissors") {
          if(computerSelection === "rock") {
            alert("The computer chose rock and you lost.");
            return "lose";
          }
        
          else {
            alert("The computer chose paper and you won!");
            return "win";
          }
        }
      }

      function getUserInput() {
        let playerInput = prompt("Choose either Rock, Paper, or Scissors");
        let playerInputLowercase = playerInput.toLowerCase();
        return playerInputLowercase;
      }

      function game() {
        let playerScore = 0;
        let computerScore = 0;
        
        for (i = 0; i < 5; i++) {
          let playerSelection = getUserInput();
          let computerSelection = computerPlay();
          let result = playRound(playerSelection, computerSelection);
          
          if (result == "win") {
            playerScore++;
          } 
          else if (result == "lose") {
            computerScore++;
          } else { i--; }
        
        }
        
        if (playerScore > computerScore) {
          alert(`You won by winning ${playerScore}/5 games!`);
        }
        else if (playerScore < computerScore) {
          alert(`You lost by losing ${computerScore}/5 games`);
        }
      }

      console.log (game());
    </script>

  </body>
</html>